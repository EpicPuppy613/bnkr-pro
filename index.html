<html><head>
		<title>$config.title</title>
	</head>
	<body><p id="t">Scripts failed to bundle</p>
	<a onclick="clearNavigation('/test/test.html');">Go to pro</a>
	<script>document.getElementById("t").textContent = "Scripts bundled";</script>
<script>window.navigation = {"/index.html":["\n\t\t&lt;title&gt;$config.title&lt;/title&gt;\n\t","&lt;p id=\"t\"&gt;Scripts failed to bundle&lt;/p&gt;\n\t&lt;a onclick=\"clearNavigation('/test/test.html');\"&gt;Go to pro&lt;/a&gt;\n\t&lt;script&gt;document.getElementById(\"t\").textContent = \"Scripts bundled\";&lt;/script&gt;\n"],"/test/test.html":["\n        &lt;title&gt;headOverrite&lt;/title&gt;\n        &lt;style&gt;#red{\n    color: red;\n}&lt;/style&gt;\n        &lt;style&gt;#blue{\n\tcolor:blue;\n}&lt;/style&gt;\n    ","\n        &lt;p&gt;document.head write (check title)&lt;/p&gt;\n        &lt;p id=\"red\"&gt;local style bundling: (target: red)&lt;/p&gt;\n        &lt;p id=\"blue\"&gt;remote style bundling (target: blue)&lt;/p&gt;\n        &lt;p id=\"sc\"&gt;local script bundle: notworking&lt;/p&gt;\n        &lt;p id=\"rsc\"&gt;remote script bundling: notworking&lt;/p&gt;\n        &lt;a onclick=\"clearNavigation('/index.html');\"&gt;Working link with slash&lt;/a&gt;\n        &lt;a onclick=\"clearNavigation('index.html');\"&gt;Working link without slash&lt;/a&gt;\n        &lt;a onclick=\"clearNavigation('balleating');\"&gt;Nonworking link&lt;/a&gt;\n        &lt;script&gt;document.getElementById(\"sc\").textContent = \"local script bundle: WORKING\"&lt;/script&gt;\n        &lt;script&gt;document.getElementById(\"rsc\").textContent = \"local script bundle: WORKING\"&lt;/script&gt;\n    \n"]}</script><script>function replaceLast(find, replace, string) {
    var lastIndex = string.lastIndexOf(find);
    
    if (lastIndex === -1) {
        return string;
    }
    
    var beginString = string.substring(0, lastIndex);
    var endString = string.substring(lastIndex + find.length);
    
    return beginString + replace + endString;
}
function nodeScriptReplace(node) {
    if ( nodeScriptIs(node) === true ) {
            node.parentNode.replaceChild( nodeScriptClone(node) , node );
    }
    else {
            var i = -1, children = node.childNodes;
            while ( ++i < children.length ) {
                  nodeScriptReplace( children[i] );
            }
    }

    return node;
}
function nodeScriptClone(node){
    var script  = document.createElement("script");
    script.text = node.innerHTML;

    var i = -1, attrs = node.attributes, attr;
    while ( ++i < attrs.length ) {                                    
          script.setAttribute( (attr = attrs[i]).name, attr.value );
    }
    return script;
}

function nodeScriptIs(node) {
    return node.tagName === 'SCRIPT';
}
function clearNavigation(h){
    if(h[0]!="/")h="/"+h;
    if(window.navigation[h] == undefined){
        alert("Link is invalid");
        return false;
    }
    h = window.navigation[h]
    let p = document.createElement("p");
    p.innerHTML = h[0];
    document.head.innerHTML = p.textContent;
    p.innerHTML = h[1];
    document.body.innerHTML= p.textContent;
    nodeScriptReplace(document.body);
    delete p;
    return true;
}</script></body></html>